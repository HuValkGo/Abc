@page
@using Abc.Aids
@using Abc.Data.Quantity
@using Abc.Pages.Extensions
@using Microsoft.EntityFrameworkCore.Infrastructure
@model Abc.Soft.Areas.Quantity.Pages.Units.IndexModel

@{
    Layout = "_Index";
    var page = Model.PageUrl;
}
@section Create {
    @Html.HypertextLinkFor( string.Empty, new Link(Constants.CreateNewLinkTitle,$"{page}/Create?fixedFilter={Model.FixedFilter}&fixedValue={Model.FixedValue}"))
}
<body>
    <table class="table">
        <thead>
            @Html.TableHeaderFor(
                new Link(Html.DisplayNameFor(m => m.Item.Id), Model.GetSortSorting(m=>m.Id,page)),
                new Link(Html.DisplayNameFor(m => m.Item.MeasureId), Model.GetSortSorting(m=>m.MeasureId,page)),
                new Link(Html.DisplayNameFor( m=>m.Item.Name),Model.GetSortSorting(m=>m.Name,page)),
                new Link(Html.DisplayNameFor( m=>m.Item.Code),Model.GetSortSorting(m=>m.Code,page)),
                new Link(Html.DisplayNameFor( m=>m.Item.Definition ),Model.GetSortSorting(m=>m.Definition,page)),
                new Link(Html.DisplayNameFor( m=>m.Item.ValidFrom ),Model.GetSortSorting(m=>m.ValidFrom,page )),
                new Link(Html.DisplayNameFor( m=>m.Item.ValidTo),Model.GetSortSorting(m=>m.ValidTo,page )))
        </thead>
        <tbody>
        @foreach (var item in Model.Items)
        {
            <tr>
                @Html.TableRowFor(
                    page,
                    item.Id,
                    Model.FixedFilter,
                    Model.FixedValue,
                    Html.DisplayFor( modelItem=>item.Id),
                    Html.Raw(Model.GetMeasureName(item.MeasureId)),
                    Html.DisplayFor( modelItem=>item.Name ),
                    Html.DisplayFor( modelItem=>item.Code),
                    Html.DisplayFor( modelItem=>item.Definition ),
                    Html.DisplayFor( modelItem=>item.ValidFrom ),
                    Html.DisplayFor( modelItem=>item.ValidTo))

            </tr>
        }
        </tbody>
    </table>
</body>

